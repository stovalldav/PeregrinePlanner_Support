<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peregrine Planner - Help & Support</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4CAF50;
            --secondary: #FF9800;
            --dark: #333333;
            --gray: #757575;
            --gray-dark: #555555;
            --gray-light: #DDDDDD;
            --light: #F5F5F5;
            --white: #FFFFFF;
            --lightest-gray: #f7f9fc;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        header {
            background-color: var(--primary);
            color: var(--white);
            padding: 16px;
            position: relative;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header-title {
            font-size: 24px;
            font-weight: bold;
        }
        
        .header-links {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .header-link {
            color: var(--white);
            text-decoration: none;
            font-size: 14px;
            padding: 4px 8px;
            border: 1px solid rgba(255,255,255,0.5);
            border-radius: 4px;
            transition: all 0.2s ease;
        }
        
        .header-link:hover {
            background-color: rgba(255,255,255,0.2);
        }

        .tabs {
            display: flex;
            background-color: var(--white);
            border-bottom: 1px solid var(--gray-light);
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab {
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease;
            font-size: 14px;
            font-weight: 500;
        }

        .tab:hover {
            background-color: var(--lightest-gray);
        }

        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
            background-color: var(--lightest-gray);
        }

        .tab-content {
            display: none;
            background-color: var(--white);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .tab-content.active {
            display: block;
        }

        .search-container {
            margin-bottom: 20px;
        }

        .search-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--gray-light);
            border-radius: 8px;
            font-size: 16px;
            background-color: var(--white);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .faq-item {
            border-bottom: 1px solid var(--gray-light);
            padding: 16px 0;
        }

        .faq-item:last-child {
            border-bottom: none;
        }

        .faq-question {
            cursor: pointer;
            padding: 12px 16px;
            background-color: var(--lightest-gray);
            border-radius: 8px;
            margin-bottom: 12px;
            font-weight: 500;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .faq-question:hover {
            background-color: var(--gray-light);
        }

        .faq-answer {
            padding: 0 16px;
            color: var(--gray-dark);
            display: none;
        }

        .faq-answer.expanded {
            display: block;
        }

        .guide-section {
            margin-bottom: 30px;
        }

        .guide-section-title {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 12px;
        }

        .guide-text {
            margin-bottom: 16px;
            line-height: 1.6;
        }

        .guide-instructions {
            background-color: var(--lightest-gray);
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 16px;
        }

        .instruction-title {
            font-weight: bold;
            color: var(--primary);
            display: block;
            margin-bottom: 8px;
        }

        .contact-form {
            max-width: 600px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--gray-light);
            border-radius: 8px;
            font-size: 16px;
            font-family: inherit;
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: var(--primary);
        }

        .submit-btn {
            background-color: var(--primary);
            color: var(--white);
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .submit-btn:hover {
            background-color: #45a049;
        }

        .submit-btn:disabled {
            background-color: var(--gray);
            cursor: not-allowed;
        }

        .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--primary);
            color: var(--white);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1000;
        }

        .back-to-top.visible {
            opacity: 1;
        }

        .orientation-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .orientation-content {
            background-color: var(--white);
            padding: 30px;
            border-radius: 12px;
            max-width: 400px;
            width: 90%;
            text-align: center;
        }

        .orientation-step {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 8px;
        }

        .orientation-title {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 16px;
        }

        .orientation-text {
            font-size: 16px;
            color: var(--dark);
            line-height: 1.6;
            margin-bottom: 24px;
        }

        .orientation-button {
            background-color: var(--primary);
            color: var(--white);
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            margin-right: 10px;
        }

        .orientation-skip {
            color: var(--gray);
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                border-bottom: 1px solid var(--gray-light);
                border-right: none;
            }
            
            .tab.active {
                border-bottom-color: var(--primary);
            }
            
            .header-links {
                position: static;
                transform: none;
                margin-top: 10px;
            }
            
            .tab-content {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1 class="header-title">Peregrine Planner Help & Support</h1>
        <div class="header-links">
            <a href="privacy-policy.html" class="header-link">Privacy Policy</a>
        </div>
    </header>

    <div class="container">
        <div class="tabs">
            <div class="tab active" data-tab="quickstart">Quick Start</div>
            <div class="tab" data-tab="faq">FAQ</div>
            <div class="tab" data-tab="guide">User Guide</div>
            <div class="tab" data-tab="contact">Contact</div>
        </div>

        <div id="quickstart" class="tab-content active">
            <div class="guide-section">
                <h2 class="guide-section-title">Welcome to Peregrine Planner</h2>
                <p class="guide-text">
                    Peregrine Planner is your comprehensive birding companion that helps you plan trips, identify birds, and track your sightings. This guide will help you get started with the key features.
                </p>
                
                <div class="guide-instructions">
                    <span class="instruction-title">Getting Started:</span>
                    <br>1. Plan your birding trips using the Plan tab
                    <br>2. Use AI-powered bird identification in the ID tab
                    <br>3. Track your sightings in Trip Logs
                    <br>4. Build your Life List as you discover new species
                    <br>5. Learn about birds with interactive tutorials
                </div>
            </div>

            <div class="guide-section">
                <h2 class="guide-section-title">Key Features</h2>
                <div class="guide-instructions">
                    <span class="instruction-title">Trip Planning:</span>
                    <br>• Smart route optimization based on bird sightings
                    <br>• Integration with eBird hotspot data
                    <br>• Customizable trip parameters and preferences
                    <br>• Export trips to calendar and PDF formats
                </div>
                
                <div class="guide-instructions">
                    <span class="instruction-title">Bird Identification:</span>
                    <br>• Real-time sound detection using Cornell BirdNET AI
                    <br>• Photo identification with confidence scoring
                    <br>• Regional species filtering for improved accuracy
                    <br>• Comprehensive bird information cards
                </div>
                
                <div class="guide-instructions">
                    <span class="instruction-title">Tracking & Learning:</span>
                    <br>• Automatic Life List building from your sightings
                    <br>• Interactive learning modules with progress tracking
                    <br>• Big Month challenges and statistics
                    <br>• Export sightings to eBird for citizen science
                </div>
            </div>
        </div>

        <div id="faq" class="tab-content">
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Search frequently asked questions..." id="faqSearch">
            </div>
            <div id="faqContainer">
                <!-- FAQ items will be populated by JavaScript -->
            </div>
        </div>

        <div id="guide" class="tab-content">
            <div class="guide-section">
                <h2 class="guide-section-title">Trip Planning</h2>
                <p class="guide-text">
                    The Plan tab is your starting point for creating optimized birding trips. The system analyzes recent eBird data to suggest the best locations and times for bird watching in your area.
                </p>
                <div class="guide-instructions">
                    <span class="instruction-title">How to Plan a Trip:</span>
                    <br>1. Set your search location using the location picker
                    <br>2. Choose your search radius (1-50 miles)
                    <br>3. Select date range for your trip
                    <br>4. Choose between auto-planning or manual bird selection
                    <br>5. Review and customize your suggested itinerary
                    <br>6. Save your trip and start birding!
                </div>
            </div>

            <div class="guide-section">
                <h2 class="guide-section-title">AI Bird Identification</h2>
                <p class="guide-text">
                    The ID tab contains AI-powered bird identification tools that help you identify birds you encounter in the field. These tools use advanced machine learning to analyze bird sounds and images for accurate species identification.
                </p>
                <div class="guide-instructions">
                    <span class="instruction-title">Bird Sounds Detection:</span>
                    <br>1. Navigate to ID → Bird Sounds Detection
                    <br>2. Configure detection settings (sensitivity level, regional filtering)
                    <br>3. Toggle the switch to "On" to start real-time listening
                    <br>4. The app uses Cornell BirdNET AI with enhanced sensitivity
                    <br>5. Detected species appear with confidence scores and timestamps
                    <br>6. Add detected birds to existing trips or create new ones
                </div>
                
                <div class="guide-instructions">
                    <span class="instruction-title">Bird Photo Detection:</span>
                    <br>1. Navigate to ID → Bird Photo Detection
                    <br>2. Select photos from gallery or take new ones
                    <br>3. AI analyzes images and provides species suggestions
                    <br>4. View results grouped by species or individually
                    <br>5. Create trips from detected birds with location integration
                </div>
            </div>

            <div class="guide-section">
                <h2 class="guide-section-title">Trip Logs & Life List</h2>
                <p class="guide-text">
                    Track your birding progress with comprehensive trip logs and automatically build your Life List as you discover new species.
                </p>
                <div class="guide-instructions">
                    <span class="instruction-title">Using Trip Logs:</span>
                    <br>1. Access active and completed trips from the Trip Logs tab
                    <br>2. Mark birds as seen by tapping checkboxes
                    <br>3. Add notes, counts, and photos to your sightings
                    <br>4. Use the floating "Add Sighting" button for quick entries
                    <br>5. Export trips to eBird for citizen science contributions
                </div>
            </div>

            <div class="guide-section">
                <h2 class="guide-section-title">Learning & Progress</h2>
                <p class="guide-text">
                    The Learn tab provides structured learning activities for birders of all levels, with interactive tutorials and progress tracking.
                </p>
                <div class="guide-instructions">
                    <span class="instruction-title">Learning Features:</span>
                    <br>• Location-based bird selection from real eBird data
                    <br>• Interactive quizzes with multiple choice questions
                    <br>• Progress tracking with points and streaks
                    <br>• Comprehensive bird information and identification tips
                    <br>• Reset option to start fresh learning journey
                </div>
            </div>
        </div>

        <div id="contact" class="tab-content">
            <div class="contact-form">
                <h2 class="guide-section-title">Contact Support</h2>
                <p class="guide-text">
                    Need help with Peregrine Planner? Send us a message and we'll get back to you as soon as possible.
                </p>
                
                <form id="contactForm">
                    <div class="form-group">
                        <label for="name" class="form-label">Name</label>
                        <input type="text" id="name" class="form-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" id="email" class="form-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="subject" class="form-label">Subject</label>
                        <select id="subject" class="form-select">
                            <option value="Bug Report">Bug Report</option>
                            <option value="Feature Request">Feature Request</option>
                            <option value="General Question">General Question</option>
                            <option value="Technical Support">Technical Support</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="message" class="form-label">Message</label>
                        <textarea id="message" class="form-textarea" required placeholder="Please describe your issue or question in detail..."></textarea>
                    </div>
                    
                    <button type="submit" class="submit-btn" id="submitBtn">Send Message</button>
                </form>
            </div>
        </div>
    </div>

    <div class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </div>

    <!-- Orientation Modal -->
    <div id="orientationModal" class="orientation-modal" style="display: none;">
        <div class="orientation-content">
            <div class="orientation-step" id="orientationStep">Step 1 of 4</div>
            <h2 class="orientation-title" id="orientationTitle">Welcome to Help & Support</h2>
            <p class="orientation-text" id="orientationText">
                This help system contains everything you need to know about using Peregrine Planner effectively. Let's take a quick tour of the available resources.
            </p>
            <button class="orientation-button" id="orientationNext">Next</button>
            <button class="orientation-skip" id="orientationSkip">Skip Tour</button>
        </div>
    </div>

    <script src="help-script.js"></script>
</body>
</html>